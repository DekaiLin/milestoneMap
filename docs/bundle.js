var e,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function f(a,b){if(b){var c=ba;a=a.split(".");for(var d=0;d<a.length-1;d++){var g=a[d];g in c||(c[g]={});c=c[g]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}}
f("Number.isFinite",function(a){return a?a:function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a}});f("Number.isInteger",function(a){return a?a:function(a){return Number.isFinite(a)?a===Math.floor(a):!1}});f("Array.prototype.find",function(a){return a?a:function(a,c){a:{var b=this;b instanceof String&&(b=String(b));for(var g=b.length,h=0;h<g;h++){var l=b[h];if(a.call(c,l,h,b)){a=l;break a}}a=void 0}return a}});window.onload=function(){new n};function q(a){if(!a())throw console.assert(!1,a.toString()),console.trace(),Error(a.toString());};function r(a,b){this.ea=t("span",{});this.M=t("div",{"class":"mMapContainer"});this.M.addEventListener("click",this.Pa.bind(this));this.U=t("span",{"class":"printablePages"});this.l=new da(this.M);this.B=b||ea;this.aa=0;this.$=null;this.ba=!1;this.restore(a)}e=r.prototype;
e.restore=function(a){var b=this;q(function(){return Number.isInteger(a.start)});q(function(){return Number.isInteger(a.end)});q(function(){return"string"===typeof a.name});this.start=a.start;this.j=a.end;this.name=a.name;this.H=new fa(this);this.v=a.programmes.map(function(a,d){return new u(a,d,b)});this.i=a.projects.map(function(a,d){return new v(a,d,b)});this.u=a.milestones.map(function(a,d){return new w(a,d,b)});this.b=a.reports.map(function(a,d){return new x(a,d,b)});q(function(){return Number.isInteger(a.currReport)});
q(function(){return b.b[a.currReport]});q(function(){return Number.isInteger(a.cmpReport)});q(function(){return b.b[a.cmpReport]});this.a=this.b[a.currReport];this.g=this.b[a.cmpReport];this.s=a.msAtReports.map(function(a,d){return new y(a,d,b)});this.C=a.dependencies.map(function(a,d){return new z(a,d,b)})};
function ha(a){return{name:a.name,end:a.j,start:a.start,currReport:a.a.index,cmpReport:a.g.index,reports:a.b.map(function(a){return{date:a.m,name:a.name}}),programmes:a.v.map(function(a){return{name:a.name,comment:a.A}}),projects:a.i.map(function(a){return{name:a.name,programme:a.a.index,comment:a.A}}),milestones:a.u.map(function(a){return{name:a.name,project:a.a.index}}),msAtReports:a.s.map(function(a){return ia(a)}),dependencies:a.C.map(function(a){return ja(a)})}}
function ka(a){var b=a.ea;b.innerHTML="";var c={"class":"reportSelector"},d=a.b.sort(function(a,b){return a.m-b.m}).map(function(a){return a.name+": "+A(a.m)});la("Snapshot 1 (Current)",a.Wa.bind(a),d,c,b);la("Snapshot 2 (Baseline)",a.Va.bind(a),d,c,b)}
e.h=function(){this.M.innerHTML="";this.S=D("svg",{"class":"mMapFixed"},this.M);this.fa=t("div",{"class":"mMapScrollBox"},this.M);this.O=D("svg",{"class":"milestoneMap",height:5E3},this.fa);var a=D("g",{"class":"bg"},this.O);this.ca=D("g",{"class":"dependencies"},this.O);var b=D("g",{"class":"fg"},this.O);this.width=this.O.getBoundingClientRect().width;this.ta=new E(this,this.S,a);this.s.forEach(function(a){return a.h()});this.u.forEach(function(a){return a.h()});this.i.forEach(function(a){return a.h()});
this.S.appendChild(this.H.h());a.appendChild(this.H.g);this.v.forEach(function(a){return b.appendChild(a.h())});this.S.appendChild(this.a.K());b.appendChild(this.a.j);F(this)};e.L=5;
function ma(a){a.U.innerHTML="";a.width=a.B.width*r.prototype.L;a.height=a.B.height*r.prototype.L;a.s.forEach(function(a){return a.h()});a.u.forEach(function(a){return a.h()});a.i.forEach(function(a){return a.h()});a.v.forEach(function(a){return a.h()});var b=a.a.K(),c=a.H.h(),d=0,g=0,h=0,l=[];do{var k=D("svg",{"class":"milestoneMapPage",viewbox:"0 0 "+a.B.width*r.prototype.L+" "+a.B.height*r.prototype.L},a.U),p=(new E(a,k)).j,m=c.cloneNode(!0);m.setAttribute("transform","translate(0, "+p+")");k.appendChild(m);
p+=a.H.height;m=a.B.height*r.prototype.L-p;if(0>=m)throw Error("Page size not large enough for Business Milestones.");if(d>=a.v.length){k.appendChild(a.a.K().cloneNode(!0));break}var B=D("g",{"class":"dependencies"},k);l.push(B);B=!0;do{var ca=a.v[d];ca.I=p;var C=na(ca,m,g,B,h);B=!1;k.appendChild(C.c);C.c.setAttribute("transform","translate(0, "+p+")");if(C.index===ca.i.length)d++,g=0,p+=m-C.T,m=C.T;else{g=C.index;break}}while(d<a.v.length);k.appendChild(b.cloneNode(!0));h++}while(d<a.v.length);a.C.forEach(function(a){if(a.w===
a.g.a&&G(a.b)&&G(a.a)){var b=oa(a.a),c=oa(a.b);c.x-=7;var d=a.b.o.a.B,g=a.a.o.a.B;if(d===g)a=D("g",{"class":"dependency"},l[d]),pa(b,c,a);else{var h=a.g.B.height*r.prototype.L;if(d>g){var k=c.y+h;h=b.y-h}else k=c.y-h,h=b.y+h;g=D("g",{"class":"dependency"},l[g]);d=D("g",{"class":"dependency"},l[d]);qa(a,b,{x:c.x,y:k},g);qa(a,{x:b.x,y:h},c,d)}}})}function ra(a){a.C.forEach(function(b){b.h();a.ca.appendChild(b.c)})}e.Pa=function(){this.ba?this.ba=!1:(this.aa=0,this.$=null)};
function F(a){var b=sa(a.ta.j,[a.H]);a.S.setAttribute("height",b);b=a.sa-b;a.fa.setAttribute("style","max-height:"+b+"px;");b-=4;var c=sa(30,a.v);a.O.setAttribute("height",c<b?b:c);ra(a)}function H(a){a=.2*a.width;return 350>a?a:350}function I(a,b){return(b.valueOf()-a.start)/(a.j-a.start)*(a.width-H(a))+H(a)}function ta(){var a=new Date(Date.now());return a.valueOf()+6E4*a.getTimezoneOffset()}function ua(a,b){return b>=a.start&&b<=a.j}
function J(a,b){b=new y(b,a.s.length,a);a.s.push(b);return b}e.P=function(a){a=new z(a,this.C.length,this);this.C.push(a);this.ca.appendChild(a.c);return a};function va(a,b){b=new w(b,a.u.length,a);a.u.push(b);return b}function wa(a,b){b=new v(b,a.i.length,a);a.i.push(b);return b}function xa(a,b){b=new u(b,a.v.length,a);a.v.push(b);return b}
function ya(a){var b=new x({name:"New Report",date:ta()},a.b.length,a);a.b.push(b);a.s.filter(function(b){return b.w===a.a}).forEach(function(c){c=ia(c);c.report=b.index;J(a,c)});a.C.filter(function(b){return b.w===a.a}).forEach(function(c){c=ja(c);c.report=b.index;a.P(c)});a.g=a.a;a.a=b}
function za(a){for(var b=1;b<a.length;b++){var c=a[b];if(6!==c.length&&5!==c.length)throw Error("CSV row "+(b+1)+" does not contain the correct number of columns");var d=c[4];if("complete"!==d&&"on-track"!==d&&"at-risk"!==d&&"late"!==d&&"previous"!==d)throw Error("Milestone health on row "+(b+1)+" is invalid.Must be one of 'complete', 'on-track', 'at-risk', 'late', or 'previous'");if(isNaN((new Date(c[3]+"T01:00:00.000Z")).valueOf()))throw Error("Invalid date format on row "+(b+1)+". The Date must be formatted as YYYY-MM-DD");
}}function Aa(a,b){var c=b[0],d=b[1],g=b[2],h=b[3],l=b[4];b=b[5]||"";if("Business Milestones"!==c){var k=a.v.find(function(a){return a.name===c});k||(k=xa(a,{name:c}));var p=k.i.find(function(a){return a.name===d});p||(p=wa(a,{name:d,programme:k.index}))}else p=a.H;(k=p.u.find(function(a){return a.name===g}))||(k=va(a,{name:g,project:p.index}));p=K(k);h={milestone:k.index,report:a.a.index,comment:b,status:Ba(l),date:(new Date(h+"T01:00:00.000Z")).valueOf()};p?p.restore(h):J(a,h)}
function Ca(a,b){za(b);a.s.filter(function(b){return b.w===a.a}).forEach(function(a){return L(a)});for(var c=1;c<b.length;c++)Aa(a,b[c])}e.ab=function(){xa(this,{name:"New Programme"});this.h()};var Da="Programme Name;Project Name;Milestone Name;Date (YYYY-MM-DD);Health ('complete', 'on-track', 'at-risk', 'late', or 'previous);Comment".split(";").map(function(a){return JSON.stringify(a)}).join(",");
function Ea(a){a=a.u.filter(function(a){return K(a)}).map(function(a){return Fa(a)}).join("\n");return Da+"\n"+a}e=r.prototype;e.va=function(a,b){this.name=b.text};e.Za=function(a,b){this.start=b.m;this.h()};e.Ya=function(a,b){this.j=b.m;this.h()};e.Wa=function(a){a=a.currentTarget.value;0<=a&&a<this.b.length&&(this.a=this.b[a]);this.h()};e.Va=function(a){a=a.currentTarget.value;0<=a&&a<this.b.length&&(this.g=this.b[a]);this.h()};function E(a,b,c){this.c=D("g",{"class":"dateHeader"},b);this.b=D("g",{},this.c);this.g=D("g",{},this.c);this.C=D("g",{"class":"dateHeader"},c);this.a=a;this.h()}function Ga(a){a.setUTCHours(0,0,0,0);return a}function Ha(a){a.setUTCMonth(0,1);a.setUTCHours(0,0,0,0);return a}function Ia(a){a.setUTCDate(1);a.setUTCHours(0,0,0,0);return a}function Ja(a){a.setUTCDate(a.getUTCDate()-(a.getUTCDay()-1)%7);return a}function Ka(a){var b=a.getUTCFullYear();a.setUTCFullYear(b-b%10);Ha(a);return a}
function La(a){a.setUTCDate(a.getUTCDate()+1);return a}function Ma(a){a.setUTCDate(a.getUTCDate()+7);return a}function Na(a){a.setUTCMonth(a.getUTCMonth()+1);return a}function Oa(a){a.setUTCFullYear(a.getUTCFullYear()+1);return a}function Pa(a){a.setUTCFullYear(a.getUTCFullYear()+10);return a}function Qa(a){return a.getUTCDate()}
function Ra(a){var b=3-(a.getUTCDay()-1)%7,c=new Date(a.valueOf());Ga(c);c.setUTCDate(a.getUTCDate()+b);return""+Math.ceil((c.valueOf()-(new Date(c.getUTCFullYear(),0,1)).valueOf())/6048E5)}function Sa(a){return"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[a.getUTCMonth()]}function Ta(a){return""+a.getUTCFullYear()}function Ua(a){a=a.getUTCFullYear();return""+(a-a%10)+"'s"}
E.prototype.h=function(){this.b.innerHTML="";var a=D("g",{},this.g);new Va(this.a.name,Wa,this.a.l,this.a.va.bind(this.a),{transform:"translate("+this.a.width/2+" 30)","class":"mMapTitle"},a);a=D("g",{},this.g);new M({l:this.a.l,onchange:this.a.Za.bind(this.a),parent:a,max:this.a.j-1728E5,W:N,D:{transform:"translate(10 30)","class":"mMapEdgeDate"}},this.a.start);a=D("g",{},this.g);new M({l:this.a.l,onchange:this.a.Ya.bind(this.a),parent:a,min:this.a.start+1728E5,W:O,D:{transform:"translate("+(this.a.width-
10)+" 30)","class":"mMapEdgeDate"}},this.a.j);Xa(this.a.a,{transform:"translate("+(this.a.width-250)+", 25)"},this.g);this.a.a!==this.a.g&&Xa(this.a.g,{transform:"translate(250, 25)"},this.g);a=[];var b=this.a.j-this.a.start,c=b/this.a.width;189216E6<b&&a.push(Ya);18144E6<b&&a.push(Za);1728E6<b&&8928E4>c&&a.push($a);3024E4>c&&a.push(ab);432E4>c&&a.push(bb);b=50;for(c=0;c<a.length-2;c++)P(this,b,20,a[c],this.s.bind(this)),b+=20;1<a.length?(P(this,b,"100%",a[a.length-2],this.s.bind(this)),P(this,b,
"100%",a[a.length-2],this.B.bind(this)),b+=20,P(this,b,20,a[a.length-1],this.H.bind(this))):(P(this,b,"100%",a[0],this.s.bind(this)),P(this,b,"100%",a[0],this.B.bind(this)));this.j=b+20;this.j+=10;D("rect",{x:0,y:0,width:H(this.a),height:"100%","class":"whiteBackground"},this.b);D("rect",{x:0,y:0,width:H(this.a),height:"100%","class":"whiteBackground"},this.C)};E.prototype.B=function(a,b,c,d,g,h){D("rect",{"class":h,height:"100%",y:"0",x:a,width:b-a},this.C)};
E.prototype.s=function(a,b,c,d,g,h){D("rect",{"class":h,height:d,y:c,x:a,width:b-a},this.b);D("text",{"class":"majorRowText",y:c+15,x:(a+b)/2,"text-anchor":"middle"},this.b).textContent=g};E.prototype.H=function(a,b,c,d,g){D("line",{"class":"dateHeaderSeparator",x1:a,y1:c+3,x2:a,y2:c+d-3},this.b);D("text",{"class":"minorRowText",y:c+15,x:(a+b)/2,"text-anchor":"middle"},this.b).textContent=g};var bb=0,ab=1,$a=2,Za=3,Ya=4;
function P(a,b,c,d,g){switch(d){case bb:var h=Ga,l=La,k=Qa;break;case ab:h=Ja;l=Ma;k=Ra;break;case $a:h=Ia;l=Na;k=Sa;break;case Za:h=Ha;l=Oa;k=Ta;break;case Ya:h=Ka,l=Pa,k=Ua}d=h(new Date(a.a.start));for(h=0;d.valueOf()<=a.a.j;){var p=k(d),m=I(a.a,d),B=I(a.a,l(d));g(m,B,b,c,p,0===h%2?"even":"odd");h++}};function w(a,b,c){this.c=D("g",{"class":"milestone"});this.b=c;this.index=b;this.g=[];this.restore(a)}w.prototype.restore=function(a){var b=this;q(function(){return Number.isInteger(a.project)});q(function(){return b.b.i[a.project]||0>a.project});this.name=a.name;this.a&&this.a.V(this);0<=a.project?this.a=this.b.i[a.project]:this.a=this.b.H;this.a.da(this)};
function Fa(a){var b=K(a),c=b?A(b.m):null;return[-1===a.a.index?a.a.name:a.a.a.name,a.a.name,a.name,c,cb(b),b.A].map(function(a){return JSON.stringify(a)}).join(",")}
w.prototype.h=function(){this.c.innerHTML="";var a=K(this),b=this.j&&this.j.w===this.b.g?this.j:this.j=Q(this,this.b.g);if(a&&b&&this.b.a!==this.b.g){var c=b.x,d=a.x;var g=db(-45,45,.1*(c-d));var h=4*g;D("path",{"class":"thick evenDashed brightPink noFill",d:"M"+c+" 0 C"+(c-h)+" "+(0+g)+" "+(d+h)+" "+(0+g)+" "+d+" 0"},this.c)}b&&this.c.appendChild(b.c);a&&this.c.appendChild(a.c)};function eb(a,b){b.w===a.b.a&&(a.s=null);b.w===a.b.g&&(a.j=null);a.g=a.g.filter(function(a){return a!==b})}
function fb(a){a.a.V(a);a.g.forEach(function(a){return L(a)});R(a.b.u,a)}function Q(a,b){return a.g.find(function(a){return a.w===b})}function K(a){return a.s&&a.s.w===a.b.a?a.s:a.s=Q(a,a.b.a)};function v(a,b,c){this.c=D("g",{"class":"project"},c.v[a.programme].c);this.b=c;this.height=0;this.u=[];this.index=b;this.s=this.B=this.I=0;this.restore(a)}e=v.prototype;e.restore=function(a){var b=this;q(function(){return"string"===typeof a.name});q(function(){return!a.comment||"string"===typeof a.comment});q(function(){return Number.isInteger(a.programme)});q(function(){return b.b.v[a.programme]});this.name=a.name;this.A=a.comment||"";this.a&&gb(this.a,this);this.a=this.b.v[a.programme];this.a.i.push(this)};
e.h=function(){var a=this;this.c.innerHTML="";this.j=D("g",{},this.c);D("line",{x1:0,y1:0,x2:this.b.width,y2:0,"class":"projectLine"},this.j);var b=this.ga();this.u.forEach(function(b){return a.j.appendChild(b.c)});this.j.appendChild(b);b=D("g",{transform:"translate(20 0)"},this.j);this.g=new hb(H(this.b)-20,b);new S(this.name,{l:this.b.l,G:"Untitled",onchange:this.Ia.bind(this)},{"class":"projectHeader"},this.g.a);new S(this.A,{l:this.b.l,G:"...",onchange:this.Ha.bind(this)},{"class":"headingComment"},
this.g.a);this.g.b();this.g.c.addEventListener("verticalResize",this.Ma.bind(this));ib(this);this.j.setAttribute("transform","translate(0 "+(this.height-20)+")");this.C=T(N,this.b.l,[{icon:"icons/move-down.svg",action:this.Ja.bind(this)},{icon:"icons/move-up.svg",action:this.Ka.bind(this)},{icon:"icons/delete.svg",action:this.Ga.bind(this)},{icon:"icons/plus.svg",action:this.ha.bind(this)}],{transform:"translate(0 "+(-20-this.g.height)+")"},b);return this.c};
e.ga=function(){var a=[],b=[],c=this.u.map(function(a){return K(a)}).filter(function(a){return a&&G(a)});c.sort(function(a,b){return b.x-a.x});c.forEach(function(c){var d=c.x,g=jb("small sans-serif",c.o.name+"MMM 00: ")+15;g=d+g;var k=jb("small italic sans-serif",c.A);k=0===k?0:k+15;for(var p=d+k,m=0;m<a.length&&(a[m]&&!(p<=a[m])||a[m+1]&&!(g<=a[m+1]));m++);a[m+1]=d;0!==k&&(a[m]=d);b[m]||(b[m]=D("g",{transform:"translate(0, "+-m*kb/2+")"}));b[m].appendChild(c.X);c.N.innerHTML="";d=20-kb/2*m-40-20;
D("line",{x1:"0",y1:d,x2:"0",y2:0},c.N);D("circle",{cx:"0",cy:d,r:"2"},c.N)});this.s=b.length*kb/2;c=D("g",{transform:"translate(0 -20)"});for(var d=b.length-1;0<=d;d--)b[d]&&c.appendChild(b[d]);this.s+=40;return c};e.Ma=function(){var a=this.height;ib(this);this.C&&this.C.setAttribute("transform","translate(0 "+(-20-this.g.height)+")");a!==this.height&&(this.j.setAttribute("transform","translate(0 "+(this.height-20)+")"),this.J())};function ib(a){var b=a.g.height+15,c=a.s;a.height=b>c?b:c}
e.J=function(){this.a.h();F(this.b)};e.da=function(a){this.u.push(a)};e.V=function(a){this.u=this.u.filter(function(b){return b!==a})};e.Ia=function(a,b){this.name=b.text};e.Ha=function(a,b){this.A=b.text};function lb(a){gb(a.a,a);a.u.forEach(function(a){return fb(a)});R(a.b.i,a)}e.Ga=function(){lb(this);this.J()};e.ha=function(){var a=va(this.b,{name:"New Milestone",project:this.index});J(this.b,{milestone:a.index,report:this.b.a.index,comment:"",status:mb,date:ta()}).h();a.h();this.h();this.J()};
e.Ka=function(){var a=this.a.i.indexOf(this);if(0===a){a=this.a;var b=this.a.index;0>=b||(this.a.i.shift(),R(this.b.i,this),b--,this.a=this.b.v[b],b=this.a.i[this.a.i.length-1],this.a.i.push(this),b?nb(this.b.i,this,b.index+1):(b=this.b.i,this.index=b.length,b.push(this)));a.h()}else a=this.a.i[a-1],U(this.b.i,a.index,this.index),ob(this.a.i,this,a);this.J()};
e.Ja=function(){var a=this.a.i.indexOf(this);if(a===this.a.i.length-1){a=this.a;var b=this.a.index;b>=this.b.v.length-1||(this.a.i.pop(),R(this.b.i,this),b++,this.a=this.b.v[b],b=this.a.i[0],this.a.i.unshift(this),b?nb(this.b.i,this,b.index):(b=this.b.i,this.index=b.length,b.push(this)));a.h()}else a=this.a.i[a+1],U(this.b.i,a.index,this.index),ob(this.a.i,this,a);this.J()};function u(a,b,c){this.c=D("g",{"class":"programme"});this.a=c;this.index=b;this.height=45;this.i=[];this.I=0;this.restore(a)}e=u.prototype;e.restore=function(a){q(function(){return"string"===typeof a.name});q(function(){return!a.comment||"string"===typeof a.comment});this.name=a.name;this.A=a.comment||""};
e.h=function(){var a=this;this.c.innerHTML="";var b=D("g",{transform:"translate(0 40)"},this.c);pb(this,b);T(O,this.a.l,[{icon:"icons/move-down.svg",action:this.Ea.bind(this)},{icon:"icons/move-up.svg",action:this.Fa.bind(this)},{icon:"icons/delete.svg",action:this.Ba.bind(this)},{icon:"icons/plus.svg",action:this.bb.bind(this)}],{transform:"translate("+this.a.width+" -30)"},b);this.i.forEach(function(b){return a.c.appendChild(b.c)});this.height=sa(45,this.i);return this.c};
function pb(a,b){a.b=new hb(a.a.width-250,b);new S(a.name,{l:a.a.l,G:"Untitled",onchange:a.Da.bind(a)},{"class":"programmeHeader"},a.b.a);new S(a.A,{l:a.a.l,G:"...",onchange:a.Ca.bind(a)},{"class":"headingComment"},a.b.a);a.b.b()}
function na(a,b,c,d,g){var h=c,l=D("g",{"class":"programme"}),k=D("g",{transform:"translate(0 40)"},l);pb(a,k);k=45;for(var p=[];c<a.i.length&&k<b;c++){var m=a.i[c];m.B=g;m.c.setAttribute("transform","translate(0, "+k+")");m.I=k+a.I;p.push(m);k+=m.height}if(k<b)return p.forEach(function(a){return l.appendChild(a.c)}),{c:l,T:b-k,index:a.i.length};if(0===p.length&&d)throw Error("Not enough room on page for programme headers.");if(1===p.length&&d)throw Error("Project: '"+p[0].name+"' is larger than a single page, and cannot be printed");
if(1>=p.length)return{c:D("g",{}),T:0,index:h};p.pop();p.forEach(function(a){return l.appendChild(a.c)});return{c:l,T:0,index:c-1}}function gb(a,b){a.i=a.i.filter(function(a){return a!==b})}e.Da=function(a,b){this.name=b.text};e.Ca=function(a,b){this.A=b.text};function qb(a){a.i.forEach(function(a){return lb(a)});R(a.a.v,a)}e.bb=function(){wa(this.a,{name:"New Project",programme:this.index}).h();this.h();F(this.a)};
e.Fa=function(){var a=this.a.v.indexOf(this);0!==a&&(U(this.a.v,this.a.v[a-1].index,this.index),F(this.a))};e.Ea=function(){var a=this.a.v.indexOf(this);a!==this.a.v.length-1&&(U(this.a.v,this.a.v[a+1].index,this.index),F(this.a))};e.Ba=function(){qb(this);this.a.h()};function y(a,b,c){this.c=D("g",{"class":"msAtReport"});this.g=D("g",{"class":"businessMsLine"});this.Y=D("g",{"class":"businessMsLine"});this.X=D("g",{"class":"milestoneInfo"});this.N=D("g",{"class":"milestonePointer"});this.b=[];this.R=[];this.index=b;this.a=c;this.restore(a)}var mb=1;e=y.prototype;
e.restore=function(a){var b=this;q(function(){return Number.isInteger(a.milestone)});q(function(){return b.a.u[a.milestone]});q(function(){return Number.isInteger(a.report)});q(function(){return b.a.b[a.report]});q(function(){return"string"===typeof a.comment});q(function(){return Number.isInteger(a.date)});q(function(){return Number.isInteger(a.status)});q(function(){return 0<=a.status&&4>=a.status});this.o&&eb(this.o,this);this.o=this.a.u[a.milestone];this.o.g.push(this);this.w=this.a.b[a.report];
this.A=a.comment;this.status=a.status;this.m=a.date};function ia(a){return{milestone:a.o.index,report:a.w.index,comment:a.A,status:a.status,date:a.m}}
e.h=function(){this.c.innerHTML="";this.N.innerHTML="";this.x=I(this.a,this.m);this.c.setAttribute("transform","translate("+this.x+" 0)");if(G(this)){this.X.innerHTML="";if(this.a.a===this.w){var a=D("g",{transform:"translate("+this.x+" 0)"},this.X);new rb({l:this.a.l,Z:this.Xa.bind(this),parent:a,D:{"class":"milestoneData"}},this.o.name,this.m,this.A);T(N,this.a.l,[{icon:"icons/health.svg",action:this.Oa.bind(this)},{icon:"icons/delete.svg",action:this.Aa.bind(this)},{icon:"icons/arrow-right.svg",
action:this.Na.bind(this)}],{transform:"translate(0, -75)"},a)}this.c.appendChild(this.N);this.a.a===this.w&&-1===this.o.a.index&&G(this)&&this.c.appendChild(this.g);a=D("g",{},this.c);this.j=D("path",{"class":cb(this),d:"M -7 0L 0 7L 7 0L 0 -7 Z"},a);this.j.addEventListener("click",this.Ra.bind(this))}};e.K=function(){this.g.innerHTML="";this.Y.innerHTML="";D("line",{x1:0,y1:0,x2:0,y2:"100%"},this.g);D("line",{x1:this.x,y1:0,x2:this.x,y2:"100%"},this.Y);return this.g};
function cb(a){if(a.a.a===a.w)switch(a.status){case 0:return"complete";case mb:return"on-track";case 2:return"at-risk";case 3:return"late"}else if(a.a.g===a.w)return"previous"}function Ba(a){switch(a){case "complete":return 0;case "on-track":return mb;case "at-risk":return 2;case "late":return 3;case "previous":return 4}}function G(a){return(a.a.a===a.w||a.w===a.a.g)&&ua(a.a,a.m)}function sb(a){var b=a.o.a;return{x:a.x,y:b.a.I+b.I+b.height-20}}
function oa(a){var b=a.o.a;return{x:a.x,y:b.I+b.height-20}}function tb(a){a=a.o.a;a.h();a.J()}e.P=function(a){this.b.push(a)};function ub(a,b){a.b=a.b.filter(function(a){return a!==b})}function vb(a,b){a.R=a.R.filter(function(a){return a!==b})}
e.Ra=function(){if(1===this.a.aa){if(-1===this.o.a.index)return;this.a.P({report:this.a.a.index,dependency:this.a.$,dependent:this.o.index}).h()}this.w!==this.a.g||K(this.o)||(J(this.a,{milestone:this.o.index,report:this.a.a.index,comment:this.A,status:this.status,date:this.m}).h(),this.o.h(),tb(this))};function L(a){eb(a.o,a);a.b.forEach(function(a){return a.j()});a.R.forEach(function(a){return a.j()});R(a.a.s,a)}
e.Xa=function(a){var b=this.a;this.m=db(b.start,b.j,a.m);this.A=a.A;this.o.name=a.title;this.h();this.K();this.o.h();tb(this)};e.Oa=function(){this.status=3<=this.status?0:this.status+1;this.j.setAttribute("class",cb(this))};e.Aa=function(){L(this);0===this.o.g.length?fb(this.o):this.o.h();tb(this)};e.Na=function(){-1!==this.o.a.index&&(this.a.aa=1,this.a.$=this.o.index,this.a.ba=!0)};function x(a,b,c){this.b=D("g",{"class":"reportLine"});this.j=D("g",{"class":"reportLine"});this.index=b;this.a=c;this.restore(a)}x.prototype.restore=function(a){this.m=a.date;this.name=a.name};
function Xa(a,b,c){a.g=D("g",b,c);b=a===a.a.a?"Current:":"Baseline:";D("text",{"class":"reportHeader","text-anchor":"end"},a.g).textContent=b;b=D("g",{},a.g);new M({l:a.a.l,onchange:a.s.bind(a),parent:b,W:O,D:{transform:"translate(0, 20)","class":"reportDate"}},a.m);b=D("g",{},a.g);new Va(a.name,N,a.a.l,a.B.bind(a),{transform:"translate(5, 20)","class":"reportName"},b)}
x.prototype.K=function(){this.b.innerHTML="";this.j.innerHTML="";if(!ua(this.a,this.m))return this.b;var a=I(this.a,this.m);D("line",{x1:a,y1:50,x2:a,y2:"100%"},this.b);D("line",{x1:a,y1:0,x2:a,y2:"100%"},this.j);return this.b};function wb(a){a.a.s.filter(function(b){return b.w===a}).forEach(function(a){return L(a)});R(a.a.b,a);a.a.a=a.a.g}x.prototype.s=function(a,b){this.m=b.m;ka(this.a);this.K()};x.prototype.B=function(a,b){this.name=b.text;ka(this.a)};function z(a,b,c){this.c=D("g",{"class":"dependency"});this.c.addEventListener("dblclick",this.j.bind(this));this.index=b;this.g=c;this.restore(a)}
z.prototype.restore=function(a){var b=this;q(function(){return Number.isInteger(a.report)});q(function(){return b.g.b[a.report]});q(function(){return Number.isInteger(a.dependent)});q(function(){return b.g.u[a.dependent]});q(function(){return Number.isInteger(a.dependency)});q(function(){return b.g.u[a.dependency]});this.w=this.g.b[a.report];this.b&&ub(this.b,this);this.b=Q(this.g.u[a.dependent],this.w);q(function(){return b.b});this.b.P(this);this.a&&vb(this.a,this);this.a=Q(this.g.u[a.dependency],
this.w);q(function(){return b.a});this.a.R.push(this)};function ja(a){return{dependent:a.b.o.index,dependency:a.a.o.index,report:a.w.index}}z.prototype.h=function(){this.c.innerHTML="";if(this.w===this.g.a&&G(this.b)&&G(this.a)){var a=sb(this.a),b=sb(this.b);b.x-=7;pa(a,b,this.c)}};
function pa(a,b,c){if(a.x<=b.x)var d="dependencyLineOK",g="dependencyArrowOK";else d="dependencyLineLate",g="dependencyArrowLate";xb(a,b,d,c);xb(a,b,"vthick transparentLine",c);D("path",{"class":g,d:"M -4 -4 L -4 4 L 0 0 Z",transform:"translate("+b.x+", "+b.y+")"},c)}var yb=0;
function qa(a,b,c,d){pa(b,c,d);c=xb(b,c,"transparentLine",d);yb++;b="dependency"+yb;c.setAttribute("id",b);c=D("text",{"class":"dependencyText"},d);D("textPath",{"xlink:href":"#"+b},c).textContent="\u00a0\u00a0\u00a0\u00a0"+a.b.o.name;d=D("text",{"text-anchor":"end","class":"dependencyText"},d);D("textPath",{"xlink:href":"#"+b,startOffset:"100%"},d).textContent=a.a.o.name+"\u00a0\u00a0\u00a0\u00a0"}z.prototype.j=function(){vb(this.a,this);ub(this.b,this);R(this.g.C,this);this.c.parentNode.removeChild(this.c)};function fa(a){this.u=[];this.index=-1;this.name="Business Milestones";this.c=D("g",{"class":"businessMs"});this.g=D("g",{"class":"businessMs"});this.b=a;this.height=40;this.s=0}e=fa.prototype;
e.h=function(){var a=this;this.c.innerHTML="";this.g.innerHTML="";var b=this.ja();this.height=this.s;var c=D("g",{transform:"translate(0 "+(this.height-20)+")"},this.c);D("line",{x1:0,y1:0,x2:this.b.width,y2:0,"class":"projectLine"},c);this.u.filter(function(a){return K(a)}).forEach(function(b){var d=K(b);d.K();c.appendChild(b.c);a.g.appendChild(d.Y)});c.appendChild(b);b=D("g",{"class":"businessMsHeader",transform:"translate(0, -10)"},c);D("text",{},b).textContent="Business Milestones";T(N,this.b.l,
[{icon:"icons/plus.svg",action:this.ka.bind(this)}],{transform:"translate(180, -7)"},b);return this.c};e.ja=v.prototype.ga;e.J=function(){F(this.b)};e.da=function(a){this.u.push(a)};e.V=function(a){this.u=this.u.filter(function(b){return b!==a})};e.ka=v.prototype.ha;function rb(a,b,c,d){this.l=a.l;this.Z=a.Z||function(){};this.parent=a.parent;this.D=a.D||{};this.a=!1;this.restore(b,c,d);this.h()}var kb=35;e=rb.prototype;e.restore=function(a,b,c){this.title=a;this.title=""===this.title?"Untitled":this.title;this.m=b;this.A=c;this.A=""===this.A?"":this.A};e.h=function(){this.c=V(this.za.bind(this),this.ya.bind(this),this.l,this.D,this.parent)};
e.ya=function(a){a.innerHTML="";a=D("foreignObject",{width:315,height:45,x:5,y:-55},a);var b=W("input",{"class":"svgDateBox",value:A(this.m),type:"date",required:""},a);b.addEventListener("change",this.xa.bind(this,b));b=W("input",{"class":"svgTextBox",value:this.title,type:"text",placeholder:"Milestone Name"},a);b.addEventListener("change",this.$a.bind(this,b));a=W("input",{"class":"svgCommentBox",value:this.A,type:"text",placeholder:"Milestone Comment"},a);a.addEventListener("change",this.wa.bind(this,
a))};e.za=function(a){this.a&&(this.Z(this),this.a=!1);a.innerHTML="";var b=new Date(this.m);b=Sa(b)+" "+Qa(b)+": ";D("text",{"text-anchor":"start",transform:"translate(5, -15)"},a).textContent=zb(b+this.title,100);D("text",{"class":"msComment",transform:"translate(5, 0)"},a).textContent=zb(this.A,100)};e.$a=function(a){this.restore(a.value,this.m,this.A);this.a=!0};e.wa=function(a){this.restore(this.title,this.m,a.value);this.a=!0};
e.xa=function(a){this.m=(new Date(a.value+"T01:00:00.000Z")).valueOf();this.a=!0};function n(){var a=document.getElementById("app");this.c=W("div",{"class":"milestoneMapContainer"},a);this.parent=a;Ab(this.h.bind(this));this.ia()}n.prototype.a=function(){var a=JSON.stringify(ha(this.map),null,"\t");Bb(this.map.name+".json",a,"application/json",this.c)};n.prototype.restore=function(a){a=JSON.parse(a);this.map=new r(a)};
n.prototype.h=function(){this.c.innerHTML="";var a=W("div",{"class":"menubar"},this.c),b=X("File",a);Y([{icon:"icons/new.svg",action:this.ia.bind(this)},{icon:"icons/open.svg",action:this.Ua.bind(this)},{icon:"icons/save.svg",action:this.a.bind(this)},{icon:"icons/exportCSV.svg",action:this.Sa.bind(this)},{icon:"icons/import.svg",action:this.Ta.bind(this)}],b.body);b=X("Programme",a);Y([{icon:"icons/plus.svg",action:this.map.ab.bind(this.map)}],b.body);b=X("Comparison",a);Y([{icon:"icons/camera.svg",
action:this.cb.bind(this)},{icon:"icons/delete.svg",action:this.Qa.bind(this)}],b.body);ka(this.map);b.body.appendChild(this.map.ea);b=X("Print",a);Y([{icon:"icons/print.svg",action:this.ua.bind(this)}],b.body);Cb(this,b.body);b=X("About",a);Y([{icon:"icons/info.svg",action:function(){return alert('Milestone Map, Version: 1.2.0\n\nCopyright (c) 2018 Andrew Pritchard, all rights reserved.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.')}}],
b.body);this.map.sa=window.innerHeight-a.getBoundingClientRect().height-5;this.c.appendChild(this.map.M);this.map.h()};
var Db=[{height:1682,width:2378},{height:1189,width:1682},{height:841,width:1189},{height:594,width:841},{height:420,width:594},{height:297,width:420},{height:210,width:297},{width:1682,height:2378},{width:1189,height:1682},{width:841,height:1189},{width:594,height:841},{width:420,height:594},{width:297,height:420},{width:210,height:297}].map(function(a){return a.width>a.height?{height:a.height-70,width:a.width-70}:a}),ea=Db[5],Eb="4A0 Landscape;2A0 Landscape;A0 Landscape;A1 Landscape;A2 Landscape;A3 Landscape;A4 Landscape;4A0 Portrait;2A0 Portrait;A0 Portrait;A1 Portrait;A2 Portrait;A3 Portrait;A4 Portrait".split(";");
function Cb(a,b){la("Page Size:",function(b){a.map.B=Db[b.currentTarget.value]},Eb,{"class":"pageSizeSelector"},b)}e=n.prototype;e.cb=function(){ya(this.map);this.h()};e.Qa=function(){wb(this.map.a);this.h()};e.ia=function(){var a=ta(),b=a-5184E6,c=new Date(b);c=c.setUTCFullYear(c.getUTCFullYear()+1).valueOf();this.map=new r({name:"New Map",start:b,end:c,programmes:[],projects:[],milestones:[],msAtReports:[],reports:[{name:"Baseline",date:a}],dependencies:[],currReport:0,cmpReport:0});this.h()};
e.Ua=function(){var a=this;Fb(this.c,function(b){try{a.restore(b),a.h()}catch(c){throw alert("Error: Invalid file."),c;}},".json")};
e.Ta=function(){var a=this;Fb(this.c,function(b){try{var c=[],d=!1,g,h,l;for(l=h=g=0;g<b.length;g++){var k=b[g],p=b[g+1];c[l]=c[l]||[];c[l][h]=c[l][h]||"";'"'==k&&d&&'"'==p?(c[l][h]+=k,++g):'"'==k?d=!d:","!=k||d?"\r"!=k||"\n"!=p||d?"\n"!=k||d?"\r"!=k||d?c[l][h]+=k:(++l,h=0):(++l,h=0):(++l,h=0,++g):++h}0===c[c.length-1].length&&c.pop();Ca(a.map,c);a.h()}catch(m){throw alert(m.name+": "+m.message),m;}},".csv")};e.Sa=function(){var a=Ea(this.map);Bb(this.map.name+".csv",a,"text/csv",this.c)};
e.ua=function(){var a=new r(ha(this.map),this.map.B);try{ma(a),this.parent.innerHTML=a.U.innerHTML,window.print(),this.parent.innerHTML="",this.parent.appendChild(this.c)}catch(b){throw alert(b.name+": "+b.message),b;}};var Wa=0,N=1,O=2;function xb(a,b,c,d){return D("path",{"class":c,d:"M"+a.x+" "+a.y+" C"+(a.x+150)+" "+a.y+" "+(b.x-150)+" "+b.y+" "+b.x+" "+b.y},d)};function sa(a,b){b.forEach(function(b){b.c.setAttribute("transform","translate(0, "+a+")");b.I=a;a+=b.height});return a}function Gb(a){a=a.getCTM();return{x:a.e,y:a.f}}var Z=void 0;function V(a,b,c,d,g){d=D("g",d,g);return Hb(d,a,b,c,g)}function Hb(a,b,c,d,g){function h(){b(a);g.contains(a)&&g.addEventListener("click",l)}function l(){c(a);g.removeEventListener("click",l);g.contains(a)&&d.F.push({c:g,event:h})}h();return a}function jb(a,b){Ib.font=a;return Ib.measureText(b).width}var Ib=document.createElement("canvas").getContext("2d");function Jb(a,b,c){c=D("g",{"class":"menu"},c);switch(a){case Wa:var d=45*(b.length+1)/-2;break;case N:d=-22.5;break;case O:d=-(45*(b.length+1))}for(a=0;a<b.length;a++){d+=45;var g=D("g",{transform:"translate("+d+", 0)","class":"menuEntry"},c);g.addEventListener("click",b[a].action);D("circle",{"class":"iconCircle",r:"14"},g);D("image",{x:"-8",y:"-8",height:"16",width:"16"},g).setAttributeNS("http://www.w3.org/1999/xlink","href",b[a].icon)}return c}
function T(a,b,c,d,g){return V(function(a){return a.innerHTML=""},function(b){b.innerHTML="";Jb(a,c,b)},b,d,g)}function X(a,b){b=t("span",{"class":"menuBarSegment"},b);t("div",{"class":"menuBarHeader"},b).textContent=a;a=t("div",{"class":"menuBarContent"},b);return{c:b,body:a}}function Y(a,b){b=t("span",{},b);b=D("svg",{width:45*a.length,height:40},b);Jb(N,a,b).setAttribute("transform","translate (0, 20)")}
function la(a,b,c,d,g){d=t("span",d,g);t("div",{"class":"dropdownSegmentHeading"},d).textContent=a;a=t("select",{"class":"dropdownSegmentDropdown"},d);a.addEventListener("change",b);t("option",{selected:"",disabled:"",hidden:""},a).textContent="Please choose:";for(b=0;b<c.length;b++)t("option",{value:b},a).textContent=c[b]};function hb(a,b){this.width=a;this.height=0;this.c=D("g",{},b);this.g=D("foreignObject",{width:this.width},this.c);this.a=t("div",{style:"width:"+this.width+"px;max-width:"+this.width+"px;"},this.g);this.a.addEventListener("input",this.b.bind(this))}
hb.prototype.b=function(){var a=this.a;document.contains(a)?a=a.offsetHeight:(Z||(Z=t("div",{style:"position:absolute;visibility:hidden;"},document.body)),a=a.cloneNode(!0),Z.appendChild(a),a=a.offsetHeight,Z.innerHTML="");a+=8;this.height!==a&&(this.height=a,this.g.setAttribute("height",this.height),this.g.setAttribute("y",-this.height),a=new CustomEvent("verticalResize",{detail:this}),this.c.dispatchEvent(a))};
function S(a,b,c,d){var g=this;this.l=b.l;this.G=b.G;this.parent=d;this.onchange=b.onchange||function(){};c.contenteditable="true";this.c=t("p",c,d);this.c.addEventListener("input",this.la.bind(this,this.c));this.c.addEventListener("input",function(a){return g.onchange(a,g)});this.c.addEventListener("focus",this.eb.bind(this));this.restore(a);this.h()}e=S.prototype;e.restore=function(a){this.text=a?a:this.G};e.h=function(){Hb(this.c,this.fb.bind(this),this.La.bind(this),this.l,this.parent)};
e.fb=function(){this.c.textContent=this.text||this.G;this.c.classList.remove("clickedActive")};e.La=function(){this.c.textContent=this.text;this.c.classList.add("clickedActive")};e.eb=function(){var a=this.c,b=document.createRange();b.selectNodeContents(a);a=window.getSelection();a.removeAllRanges();a.addRange(b)};e.la=function(a){this.restore(a.textContent)};function t(a,b,c){a=document.createElement(a);if(b)for(var d in b)a.setAttribute(d,b[d]);c&&c.appendChild(a);return a}function Kb(a,b,c,d){a=document.createElementNS(a,b);if(c)for(var g in c)a.setAttribute(g,c[g]);d&&d.appendChild(a);return a}var D=Kb.bind(null,"http://www.w3.org/2000/svg"),W=Kb.bind(null,"http://www.w3.org/1999/xhtml");function Va(a,b,c,d,g,h){this.G="Untitled";switch(b){case N:this.a="start";break;case Wa:this.a="middle"}this.l=c;this.onchange=d;this.parent=h;this.D=g;this.restore(a);this.h()}e=Va.prototype;e.restore=function(a){this.text=a;this.text=""===this.text?this.G:this.text};e.h=function(){this.c=V(this.ra.bind(this),this.qa.bind(this),this.l,this.D,this.parent)};
e.qa=function(a){var b=this,c=a.getBoundingClientRect().height;a.innerHTML="";var d=10*c,g="middle"===this.a?d/-2:0,h=Gb(a),l=-h.x;h=-h.y;a=D("foreignObject",{width:d,height:1.4*c,transform:"translate("+l+", "+h+")",x:g-l,y:0-c-h},a);a=t("input",{"class":"svgTextBox",type:"text",value:this.text},a);a.focus();a.select();a.addEventListener("change",this.pa.bind(this,a));a.addEventListener("change",function(a){return b.onchange(a,b)})};
e.ra=function(a){a.innerHTML="";D("text",{"text-anchor":this.a},a).textContent=zb(this.text,40)};e.pa=function(a){this.restore(a.value)};function M(a,b){switch(a.W){case N:this.a="start";break;case O:this.a="end"}this.l=a.l;this.onchange=a.onchange||function(){};this.parent=a.parent;this.D=a.D||{};this.min=a.min||null;this.max=a.max||null;this.restore(b);this.h()}e=M.prototype;e.restore=function(a){this.m=a};e.h=function(){this.c=V(this.oa.bind(this),this.na.bind(this),this.l,this.D,this.parent)};
e.na=function(a){var b=this,c=a.getBoundingClientRect().height;a.innerHTML="";var d=10*c;a=D("foreignObject",{width:d,height:1.5*c,x:"start"===this.a?0:-d,y:0-c},a);c={"class":"svgDateBox",value:A(this.m),type:"date",required:""};this.min&&(c.min=A(this.min));this.max&&(c.max=A(this.max));a=W("input",c,a);a.focus();a.select();a.addEventListener("blur",this.ma.bind(this,a));a.addEventListener("blur",function(a){return b.onchange(a,b)})};
e.oa=function(a){a.innerHTML="";D("text",{"text-anchor":this.a},a).textContent=A(this.m)};e.ma=function(a){this.m=(new Date(a.value+"T01:00:00.000Z")).valueOf()};function da(a){this.c=a;this.F=[];this.a=[];a.addEventListener("click",this.click.bind(this),!0)}da.prototype.click=function(a){for(var b=0;b<this.F.length;b++)for(;this.F[b]&&(!this.c.contains(this.F[b].c)||!this.F[b].c.parentNode.contains(a.target));)this.F[b].event(),this.F[b]=this.F[this.F.length-1],this.F.pop();for(b=0;b<this.a.length;b++)this.a[b].c.parentNode.contains(a.target)||this.a[b].event()};function db(a,b,c){c=c>b?b:c;return c<a?a:c}function nb(a,b,c){for(var d=a.length;d>c;d--)a[d]=a[d-1],a[d].index=d;a[c]=b;b.index=c}function R(a,b){for(b=b.index;b<a.length-1;b++)a[b]=a[b+1],a[b].index=b;a.pop()}function ob(a,b,c){b=a.indexOf(b);c=a.indexOf(c);var d=a[b];a[b]=a[c];a[c]=d}function U(a,b,c){var d=a[b];a[b]=a[c];a[c]=d;a[b].index=b;a[c].index=c}function A(a){return(new Date(a)).toISOString().slice(0,10)}
function Bb(a,b,c,d){var g=t("a",{style:"display:none;"},d);g.href=URL.createObjectURL(new Blob([b],{type:c}));g.download=a;g.click();d.removeChild(g)}function Fb(a,b,c){var d={type:"file",style:"display:none;"};c&&(d.accept=c);var g=t("input",d,a),h=new FileReader;h.onload=function(){b(h.result);a.contains(g)&&a.removeChild(g)};g.addEventListener("change",function(){h.readAsText(g.files[0])});g.click()}function zb(a,b){return a.length>b-3?a.slice(0,b-3)+"...":a}
function Ab(a){var b=window,c=100;c=c||100;var d;b.addEventListener("resize",function(){d&&window.clearTimeout(d);d=setTimeout(a,c)})}; //# sourceMappingURL=bundle.js.map
