var e,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function g(a,b){if(b){var c=ba;a=a.split(".");for(var d=0;d<a.length-1;d++){var f=a[d];f in c||(c[f]={});c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}}
g("Number.isFinite",function(a){return a?a:function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a}});g("Number.isInteger",function(a){return a?a:function(a){return Number.isFinite(a)?a===Math.floor(a):!1}});g("Array.prototype.find",function(a){return a?a:function(a,c){a:{var b=this;b instanceof String&&(b=String(b));for(var f=b.length,h=0;h<f;h++){var l=b[h];if(a.call(c,l,h,b)){a=l;break a}}a=void 0}return a}});window.onload=function(){new n};function q(a){if(!a())throw console.assert(!1,a.toString()),console.trace(),Error(a.toString());};function r(a,b){this.ha=t("span",{});this.K=t("div",{"class":"mMapContainer"});this.K.addEventListener("click",this.Oa.bind(this));this.X=t("span",{"class":"printablePages"});this.l=new ca(this.K);this.B=b||da;this.ea=0;this.da=null;this.W=!1;this.restore(a)}e=r.prototype;
e.restore=function(a){var b=this;q(function(){return Number.isInteger(a.start)});q(function(){return Number.isInteger(a.end)});q(function(){return"string"===typeof a.name});this.start=a.start;this.j=a.end;this.name=a.name;this.H=new ea(this);this.v=a.programmes.map(function(a,d){return new fa(a,d,b)});this.i=a.projects.map(function(a,d){return new u(a,d,b)});this.s=a.milestones.map(function(a,d){return new v(a,d,b)});this.b=a.reports.map(function(a,d){return new ha(a,d,b)});q(function(){return Number.isInteger(a.currReport)});
q(function(){return b.b[a.currReport]});q(function(){return Number.isInteger(a.cmpReport)});q(function(){return b.b[a.cmpReport]});this.a=this.b[a.currReport];this.g=this.b[a.cmpReport];this.u=a.msAtReports.map(function(a,d){return new ia(a,d,b)});this.G=a.dependencies.map(function(a,d){return new w(a,d,b)})};
e.save=function(){return{name:this.name,end:this.j,start:this.start,currReport:this.a.index,cmpReport:this.g.index,reports:this.b.map(function(a){return a.save()}),programmes:this.v.map(function(a){return a.save()}),projects:this.i.map(function(a){return a.save()}),milestones:this.s.map(function(a){return a.save()}),msAtReports:this.u.map(function(a){return a.save()}),dependencies:this.G.map(function(a){return a.save()})}};
function ja(a){var b=a.ha;b.innerHTML="";var c={"class":"reportSelector"},d=a.b.sort(function(a,b){return a.m-b.m}).map(function(a){return a.name+": "+x(a.m)});ka("Snapshot 1 (Current)",a.Va.bind(a),d,c,b);ka("Snapshot 2 (Baseline)",a.Ua.bind(a),d,c,b)}
e.h=function(){this.K.innerHTML="";this.V=y("svg",{"class":"mMapFixed"},this.K);this.ia=t("div",{"class":"mMapScrollBox"},this.K);this.N=y("svg",{"class":"milestoneMap",height:5E3},this.ia);var a=y("g",{"class":"bg"},this.N);this.ga=y("g",{"class":"dependencies"},this.N);var b=y("g",{"class":"fg"},this.N);this.width=this.N.getBoundingClientRect().width;this.P=new z(this,this.V,a);this.u.forEach(function(a){return a.h()});this.s.forEach(function(a){return a.h()});this.i.forEach(function(a){return a.h()});
this.V.appendChild(this.H.h());a.appendChild(this.H.g);this.v.forEach(function(a){return b.appendChild(a.h())});this.V.appendChild(this.a.J());b.appendChild(this.a.j);A(this)};e.O=5;
function la(a){a.X.innerHTML="";a.width=a.B.width*r.prototype.O;a.height=a.B.height*r.prototype.O;a.u.forEach(function(a){return a.h()});a.s.forEach(function(a){return a.h()});a.i.forEach(function(a){return a.h()});a.v.forEach(function(a){return a.h()});var b=a.H.h(),c=0,d=0,f=0,h=[];do{var l=y("svg",{"class":"milestoneMapPage",viewbox:"0 0 "+a.B.width*r.prototype.O+" "+a.B.height*r.prototype.O},a.X);a.P=new z(a,l);var k=a.P.u,m=b.cloneNode(!0);m.setAttribute("transform","translate(0, "+k+")");l.appendChild(m);
k+=a.H.height;m=a.B.height*r.prototype.O-k;if(0>=m)throw Error("Page size not large enough for Business Milestones.");if(c>=a.v.length){l.appendChild(a.a.J().cloneNode(!0));break}var p=y("g",{"class":"dependencies"},l);h.push(p);p=!0;do{var J=a.v[c];J.L=k;var C=ma(J,m,d,p,f);p=!1;l.appendChild(C.c);C.c.setAttribute("transform","translate(0, "+k+")");if(C.index===J.i.length)c++,d=0,k+=m-C.U,m=C.U;else{d=C.index;break}}while(c<a.v.length);k=a.a.J();l.appendChild(k.cloneNode(!0));f++}while(c<a.v.length);
a.G.forEach(function(a){if(a.w===a.g.a&&B(a.b)&&B(a.a)){var b=na(a.a),c=na(a.b);c.x-=7;var d=a.b.o.a.u,f=a.a.o.a.u;if(d===f)a=y("g",{"class":"dependency"},h[d]),oa(b,c,a);else{var k=a.g.B.height*r.prototype.O;if(d>f){var l=c.y+k;k=b.y-k}else l=c.y-k,k=b.y+k;f=y("g",{"class":"dependency"},h[f]);d=y("g",{"class":"dependency"},h[d]);pa(a,b,{x:c.x,y:l},f);pa(a,{x:b.x,y:k},c,d)}}})}function qa(a){a.G.forEach(function(b){b.h();a.ga.appendChild(b.c)})}
e.Oa=function(){this.W?this.W=!1:(this.ea=0,this.da=null)};function A(a){var b=D(a.P.u,[a.H]);a.V.setAttribute("height",b);b=a.ra-b;a.ia.setAttribute("style","max-height:"+b+"px;");b-=4;var c=D(30,a.v);a.N.setAttribute("height",c<b?b:c);a.a.J();qa(a)}function E(a){a=.2*a.width;return 350>a?a:350}function F(a,b){return(b.valueOf()-a.start)/(a.j-a.start)*(a.width-E(a))+E(a)}function ra(){var a=new Date(Date.now());return sa(a.valueOf()-6E4*a.getTimezoneOffset())}
function ta(a,b){return b>=a.start&&b<=a.j}function G(a,b){b=new ia(b,a.u.length,a);a.u.push(b);return b}e.S=function(a){a=new w(a,this.G.length,this);this.G.push(a);this.ga.appendChild(a.c);return a};function ua(a,b){b=new v(b,a.s.length,a);a.s.push(b);return b}function va(a,b){b=new u(b,a.i.length,a);a.i.push(b);return b}function wa(a,b){b=new fa(b,a.v.length,a);a.v.push(b);return b}
function xa(a){var b=new ha({name:"New Report",date:ra()},a.b.length,a);a.b.push(b);a.u.filter(function(b){return b.w===a.a}).forEach(function(c){c=c.save();c.report=b.index;G(a,c)});a.G.filter(function(b){return b.w===a.a}).forEach(function(c){c=c.save();c.report=b.index;a.S(c)});a.g=a.a;a.a=b}
function ya(a){for(var b=1;b<a.length;b++){var c=a[b];if(6!==c.length&&5!==c.length)throw Error("CSV row "+(b+1)+" does not contain the correct number of columns");var d=c[4];if("complete"!==d&&"on-track"!==d&&"at-risk"!==d&&"late"!==d&&"previous"!==d)throw Error("Milestone health on row "+(b+1)+" is invalid.Must be one of 'complete', 'on-track', 'at-risk', 'late', or 'previous'");if(isNaN((new Date(c[3]+"T00:00:00.000Z")).valueOf()+1))throw Error("Invalid date format on row "+(b+1)+". The Date must be formatted as YYYY-MM-DD");
}}function za(a,b){var c=b[0],d=b[1],f=b[2],h=b[3],l=b[4];b=b[5]||"";if("Business Milestones"!==c){var k=a.v.find(function(a){return a.name===c});k||(k=wa(a,{name:c}));var m=k.i.find(function(a){return a.name===d});m||(m=va(a,{name:d,programme:k.index}))}else m=a.H;(k=m.s.find(function(a){return a.name===f}))||(k=ua(a,{name:f,project:m.index}));m=H(k);h={milestone:k.index,report:a.a.index,comment:b,status:Aa(l),date:(new Date(h+"T00:00:00.000Z")).valueOf()+1};m?m.restore(h):G(a,h)}
function Ba(a,b){ya(b);a.u.filter(function(b){return b.w===a.a}).forEach(function(a){return I(a)});for(var c=1;c<b.length;c++)za(a,b[c])}e.$a=function(){wa(this,{name:"New Programme"});this.h()};var Ca="Programme Name;Project Name;Milestone Name;Date (YYYY-MM-DD);Health ('complete', 'on-track', 'at-risk', 'late', or 'previous);Comment".split(";").map(function(a){return JSON.stringify(a)}).join(",");
function Da(a){a=a.s.filter(function(a){return H(a)}).map(function(a){return Ea(a)}).join("\n");return Ca+"\n"+a}e=r.prototype;e.ta=function(a,b){this.name=b.text};e.Ya=function(a,b){b.m<=this.j&&(this.start=b.m);this.h()};e.Xa=function(a,b){b.m>=this.start&&(this.j=b.m);this.h()};e.Va=function(a){a=a.currentTarget.value;0<=a&&a<this.b.length&&(this.a=this.b[a]);this.h()};e.Ua=function(a){a=a.currentTarget.value;0<=a&&a<this.b.length&&(this.g=this.b[a]);this.h()};function z(a,b,c){this.c=y("g",{"class":"dateHeader"},b);this.g=y("g",{},this.c);this.j=y("g",{},this.c);this.H=y("g",{"class":"dateHeader"},c);this.a=a;this.h()}function Fa(a){a.setUTCHours(0,0,0,0);return a}function Ga(a){a.setUTCMonth(0,1);a.setUTCHours(0,0,0,0);return a}function Ha(a){a.setUTCDate(1);a.setUTCHours(0,0,0,0);return a}function Ia(a){a.setUTCDate(a.getUTCDate()-(a.getUTCDay()-1)%7);return a}function Ja(a){var b=a.getUTCFullYear();a.setUTCFullYear(b-b%10);Ga(a);return a}
function Ka(a){a.setUTCDate(a.getUTCDate()+1);return a}function La(a){a.setUTCDate(a.getUTCDate()+7);return a}function Ma(a){a.setUTCMonth(a.getUTCMonth()+1);return a}function Na(a){a.setUTCFullYear(a.getUTCFullYear()+1);return a}function Oa(a){a.setUTCFullYear(a.getUTCFullYear()+10);return a}function Pa(a){return a.getUTCDate()}
function Qa(a){var b=3-(a.getUTCDay()-1)%7,c=new Date(a.valueOf());Fa(c);c.setUTCDate(a.getUTCDate()+b);return""+Math.ceil((c.valueOf()-(new Date(c.getUTCFullYear(),0,1)).valueOf())/6048E5)}function Ra(a){return"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[a.getUTCMonth()]}function Sa(a){return""+a.getUTCFullYear()}function Ta(a){a=a.getUTCFullYear();return""+(a-a%10)+"'s"}
z.prototype.h=function(){this.g.innerHTML="";var a=y("g",{transform:"translate("+(K+60)+" 0)"},this.j);this.b=new L(this.a.width-2*K-120,a);new M(this.a.name,{l:this.a.l,F:"Untitled",onchange:this.a.ta.bind(this.a)},{"class":"mMapTitle"},this.b.C);this.b.update();this.j.setAttribute("transform","translate(0 "+this.b.height+")");this.b.c.addEventListener("verticalResize",this.K.bind(this));this.j.setAttribute("transform","translate(0 "+this.b.height+")");this.g.setAttribute("transform","translate(0 "+
this.b.height+")");a=y("g",{},this.j);new N({l:this.a.l,onchange:this.a.Ya.bind(this.a),parent:a,max:this.a.j-1728E5,Z:O,D:{transform:"translate(10 -5)","class":"mMapEdgeDate"}},this.a.start);a=y("g",{},this.j);new N({l:this.a.l,onchange:this.a.Xa.bind(this.a),parent:a,min:this.a.start+1728E5,Z:P,D:{transform:"translate("+(this.a.width-10)+" -5)","class":"mMapEdgeDate"}},this.a.j);Ua(this.a.a,{transform:"translate("+(this.a.width-K)+", -5)"},this.j);this.a.a!==this.a.g&&Ua(this.a.g,{transform:"translate("+
K+", -5)"},this.j);a=[];var b=this.a.j-this.a.start,c=b/this.a.width;189216E6<b&&a.push(Va);18144E6<b&&a.push(Wa);1728E6<b&&8928E4>c&&a.push(Xa);3024E4>c&&a.push(Ya);432E4>c&&a.push(Za);b=20;for(c=0;c<a.length-2;c++)Q(this,b,20,a[c],this.B.bind(this)),b+=20;1<a.length?(Q(this,b,"100%",a[a.length-2],this.B.bind(this)),Q(this,b,"100%",a[a.length-2],this.G.bind(this)),b+=20,Q(this,b,20,a[a.length-1],this.N.bind(this))):(Q(this,b,"100%",a[0],this.B.bind(this)),Q(this,b,"100%",a[0],this.G.bind(this)));
this.P=this.u=b+20;this.u+=10+this.b.height;y("rect",{x:0,y:0,width:E(this.a),height:"100%","class":"whiteBackground"},this.g);y("rect",{x:0,y:0,width:E(this.a),height:"100%","class":"whiteBackground"},this.H)};z.prototype.G=function(a,b,c,d,f,h){y("rect",{"class":h,height:"100%",y:"0",x:a,width:b-a},this.H)};z.prototype.B=function(a,b,c,d,f,h){y("rect",{"class":h,height:d,y:c,x:a,width:b-a},this.g);y("text",{"class":"majorRowText",y:c+15,x:(a+b)/2,"text-anchor":"middle"},this.g).textContent=f};
z.prototype.N=function(a,b,c,d,f){y("line",{"class":"dateHeaderSeparator",x1:a,y1:c+3,x2:a,y2:c+d-3},this.g);y("text",{"class":"minorRowText",y:c+15,x:(a+b)/2,"text-anchor":"middle"},this.g).textContent=f};var Za=0,Ya=1,Xa=2,Wa=3,Va=4;
function Q(a,b,c,d,f){switch(d){case Za:var h=Fa,l=Ka,k=Pa;break;case Ya:h=Ia;l=La;k=Qa;break;case Xa:h=Ha;l=Ma;k=Ra;break;case Wa:h=Ga;l=Na;k=Sa;break;case Va:h=Ja,l=Oa,k=Ta}d=h(new Date(a.a.start));for(h=0;d.valueOf()<=a.a.j;){var m=k(d),p=F(a.a,d),J=F(a.a,l(d));f(p,J,b,c,m,0===h%2?"even":"odd");h++}}z.prototype.K=function(){this.j.setAttribute("transform","translate(0 "+this.b.height+")");this.g.setAttribute("transform","translate(0 "+this.b.height+")");this.u=this.P+10+this.b.height;A(this.a)};
var K=250;function v(a,b,c){this.c=y("g",{"class":"milestone"});this.b=c;this.index=b;this.g=[];this.restore(a)}v.prototype.restore=function(a){var b=this;q(function(){return Number.isInteger(a.project)});q(function(){return b.b.i[a.project]||0>a.project});this.name=a.name;this.a&&this.a.Y(this);0<=a.project?this.a=this.b.i[a.project]:this.a=this.b.H;this.a.fa(this)};v.prototype.save=function(){return{name:this.name,project:this.a.index}};
function Ea(a){var b=H(a),c=b?x(b.m):null;return[-1===a.a.index?a.a.name:a.a.a.name,a.a.name,a.name,c,$a(b),b.A].map(function(a){return JSON.stringify(a)}).join(",")}
v.prototype.h=function(){this.c.innerHTML="";var a=H(this),b=this.j&&this.j.w===this.b.g?this.j:this.j=R(this,this.b.g);if(a&&b&&this.b.a!==this.b.g){var c=b.x,d=a.x;var f=ab(-45,45,.1*(c-d));var h=4*f;y("path",{"class":"thick evenDashed brightPink noFill",d:"M"+c+" 0 C"+(c-h)+" "+(0+f)+" "+(d+h)+" "+(0+f)+" "+d+" 0"},this.c)}b&&this.c.appendChild(b.c);a&&this.c.appendChild(a.c)};function bb(a,b){b.w===a.b.a&&(a.u=null);b.w===a.b.g&&(a.j=null);a.g=a.g.filter(function(a){return a!==b})}
function cb(a){a.a.Y(a);a.g.forEach(function(a){return I(a)});S(a.b.s,a)}function R(a,b){return a.g.find(function(a){return a.w===b})}function H(a){return a.u&&a.u.w===a.b.a?a.u:a.u=R(a,a.b.a)};function u(a,b,c){this.c=y("g",{"class":"project"},c.v[a.programme].c);this.b=c;this.height=0;this.s=[];this.index=b;this.j=this.u=this.L=0;this.restore(a)}e=u.prototype;e.restore=function(a){var b=this;q(function(){return"string"===typeof a.name});q(function(){return!a.comment||"string"===typeof a.comment});q(function(){return Number.isInteger(a.programme)});q(function(){return b.b.v[a.programme]});this.name=a.name;this.A=a.comment||"";this.a&&db(this.a,this);this.a=this.b.v[a.programme];this.a.i.push(this)};
e.save=function(){return{name:this.name,programme:this.a.index,comment:this.A}};
e.h=function(){var a=this;this.c.innerHTML="";this.C=y("g",{},this.c);y("line",{x1:0,y1:0,x2:this.b.width,y2:0,"class":"projectLine"},this.C);var b=this.ja();this.s.forEach(function(b){return a.C.appendChild(b.c)});this.C.appendChild(b);b=y("g",{transform:"translate(20 0)"},this.C);this.g=new L(E(this.b)-20,b);new M(this.name,{l:this.b.l,F:"Untitled",onchange:this.Ga.bind(this)},{"class":"projectHeader"},this.g.C);new M(this.A,{l:this.b.l,F:"...",onchange:this.Fa.bind(this)},{"class":"headingComment"},
this.g.C);this.g.update();this.g.c.addEventListener("verticalResize",this.Da.bind(this));eb(this);this.C.setAttribute("transform","translate(0 "+(this.height-20)+")");this.B=T(O,this.b.l,[{icon:"icons/move-down.svg",action:this.Ha.bind(this)},{icon:"icons/move-up.svg",action:this.Ia.bind(this)},{icon:"icons/delete.svg",action:this.Ea.bind(this)},{icon:"icons/plus.svg",action:this.ka.bind(this)}],{transform:"translate(0 "+(-20-this.g.height)+")"},b);return this.c};
e.ja=function(){var a=[],b=[],c=this.s.map(function(a){return H(a)}).filter(function(a){return a&&B(a)});c.sort(function(a,b){return b.x-a.x});c.forEach(function(c){var d=c.x,f=fb("small sans-serif",c.o.name+"MMM 00: ")+15;f=d+f;var k=fb("small italic sans-serif",c.A);k=0===k?0:k+15;for(var m=d+k,p=0;p<a.length&&(a[p]&&!(m<=a[p])||a[p+1]&&!(f<=a[p+1]));p++);a[p+1]=d;0!==k&&(a[p]=d);b[p]||(b[p]=y("g",{transform:"translate(0, "+-p*gb/2+")"}));b[p].appendChild(c.$);c.R.innerHTML="";d=20-gb/2*p-40-20;
y("line",{x1:"0",y1:d,x2:"0",y2:0},c.R);y("circle",{cx:"0",cy:d,r:"2"},c.R)});this.j=b.length*gb/2;c=y("g",{transform:"translate(0 -20)"});for(var d=b.length-1;0<=d;d--)b[d]&&c.appendChild(b[d]);this.j+=40;return c};e.Da=function(){var a=this.height;eb(this);this.B&&this.B.setAttribute("transform","translate(0 "+(-20-this.g.height)+")");a!==this.height&&(this.C.setAttribute("transform","translate(0 "+(this.height-20)+")"),this.M())};function eb(a){var b=a.g.height+15,c=a.j;a.height=b>c?b:c}
e.M=function(){var a=this.a;a.height=D(45,a.i);A(this.b)};e.fa=function(a){this.s.push(a)};e.Y=function(a){this.s=this.s.filter(function(b){return b!==a})};e.Ga=function(a,b){this.name=b.text};e.Fa=function(a,b){this.A=b.text};function hb(a){db(a.a,a);a.s.forEach(function(a){return cb(a)});S(a.b.i,a)}e.Ea=function(){hb(this);this.M()};
e.ka=function(){var a=ua(this.b,{name:"New Milestone",project:this.index});G(this.b,{milestone:a.index,report:this.b.a.index,comment:"",status:ib,date:ra()}).h();a.h();this.h();this.M()};
e.Ia=function(){var a=this.a.i.indexOf(this);if(0===a){a=this.a;var b=this.a.index;0>=b||(this.a.i.shift(),S(this.b.i,this),b--,this.a=this.b.v[b],b=this.a.i[this.a.i.length-1],this.a.i.push(this),b?jb(this.b.i,this,b.index+1):(b=this.b.i,this.index=b.length,b.push(this)));a.h();this.a.h();A(this.b)}else a=this.a.i[a-1],U(this.b.i,a.index,this.index),kb(this.a.i,this,a),this.M()};
e.Ha=function(){var a=this.a.i.indexOf(this);if(a===this.a.i.length-1){a=this.a;var b=this.a.index;b>=this.b.v.length-1||(this.a.i.pop(),S(this.b.i,this),b++,this.a=this.b.v[b],b=this.a.i[0],this.a.i.unshift(this),b?jb(this.b.i,this,b.index):(b=this.b.i,this.index=b.length,b.push(this)));a.h();this.a.h();A(this.b)}else a=this.a.i[a+1],U(this.b.i,a.index,this.index),kb(this.a.i,this,a),this.M()};function fa(a,b,c){this.c=y("g",{"class":"programme"});this.a=c;this.index=b;this.height=45;this.i=[];this.L=0;this.restore(a)}e=fa.prototype;e.restore=function(a){q(function(){return"string"===typeof a.name});q(function(){return!a.comment||"string"===typeof a.comment});this.name=a.name;this.A=a.comment||""};e.save=function(){return{name:this.name,comment:this.A}};
e.h=function(){var a=this;this.c.innerHTML="";var b=y("g",{transform:"translate(0 40)"},this.c);lb(this,b);T(P,this.a.l,[{icon:"icons/move-down.svg",action:this.Ba.bind(this)},{icon:"icons/move-up.svg",action:this.Ca.bind(this)},{icon:"icons/delete.svg",action:this.ya.bind(this)},{icon:"icons/plus.svg",action:this.ab.bind(this)}],{transform:"translate("+this.a.width+" -30)"},b);this.i.forEach(function(b){return a.c.appendChild(b.c)});this.height=D(45,this.i);return this.c};
function lb(a,b){a.b=new L(a.a.width-250,b);new M(a.name,{l:a.a.l,F:"Untitled",onchange:a.Aa.bind(a)},{"class":"programmeHeader"},a.b.C);new M(a.A,{l:a.a.l,F:"...",onchange:a.za.bind(a)},{"class":"headingComment"},a.b.C);a.b.update()}
function ma(a,b,c,d,f){var h=c,l=y("g",{"class":"programme"}),k=y("g",{transform:"translate(0 40)"},l);lb(a,k);k=45;for(var m=[];c<a.i.length&&k<b;c++){var p=a.i[c];p.u=f;p.c.setAttribute("transform","translate(0, "+k+")");p.L=k+a.L;m.push(p);k+=p.height}if(k<b)return m.forEach(function(a){return l.appendChild(a.c)}),{c:l,U:b-k,index:a.i.length};if(0===m.length&&d)throw Error("Not enough room on page for programme headers.");if(1===m.length&&d)throw Error("Project: '"+m[0].name+"' is larger than a single page, and cannot be printed");
if(1>=m.length)return{c:y("g",{}),U:0,index:h};m.pop();m.forEach(function(a){return l.appendChild(a.c)});return{c:l,U:0,index:c-1}}function db(a,b){a.i=a.i.filter(function(a){return a!==b})}e.Aa=function(a,b){this.name=b.text};e.za=function(a,b){this.A=b.text};function mb(a){a.i.forEach(function(a){return hb(a)});S(a.a.v,a)}e.ab=function(){va(this.a,{name:"New Project",programme:this.index}).h();this.h();A(this.a)};
e.Ca=function(){var a=this.a.v.indexOf(this);0!==a&&(U(this.a.v,this.a.v[a-1].index,this.index),A(this.a))};e.Ba=function(){var a=this.a.v.indexOf(this);a!==this.a.v.length-1&&(U(this.a.v,this.a.v[a+1].index,this.index),A(this.a))};e.ya=function(){mb(this);this.a.h()};function ia(a,b,c){this.c=y("g",{"class":"msAtReport"});this.g=y("g",{"class":"businessMsLine"});this.aa=y("g",{"class":"businessMsLine"});this.$=y("g",{"class":"milestoneInfo"});this.R=y("g",{"class":"milestonePointer"});this.b=[];this.T=[];this.index=b;this.a=c;this.restore(a)}var ib=1;e=ia.prototype;
e.restore=function(a){var b=this;q(function(){return Number.isInteger(a.milestone)});q(function(){return b.a.s[a.milestone]});q(function(){return Number.isInteger(a.report)});q(function(){return b.a.b[a.report]});q(function(){return"string"===typeof a.comment});q(function(){return Number.isInteger(a.date)});q(function(){return Number.isInteger(a.status)});q(function(){return 0<=a.status&&4>=a.status});this.o&&bb(this.o,this);this.o=this.a.s[a.milestone];this.o.g.push(this);this.w=this.a.b[a.report];
this.A=a.comment;this.status=a.status;this.m=sa(a.date)};e.save=function(){return{milestone:this.o.index,report:this.w.index,comment:this.A,status:this.status,date:this.m}};
e.h=function(){this.c.innerHTML="";this.R.innerHTML="";this.x=F(this.a,this.m);this.c.setAttribute("transform","translate("+this.x+" 0)");if(B(this)){this.$.innerHTML="";if(this.a.a===this.w){var a=y("g",{transform:"translate("+this.x+" 0)"},this.$);new nb({l:this.a.l,ca:this.Wa.bind(this),parent:a,D:{"class":"milestoneData"}},this.o.name,this.m,this.A);T(O,this.a.l,[{icon:"icons/health.svg",action:this.Na.bind(this)},{icon:"icons/delete.svg",action:this.xa.bind(this)},{icon:"icons/arrow-right.svg",
action:this.Ma.bind(this)}],{transform:"translate(0, -75)"},a)}this.c.appendChild(this.R);this.a.a===this.w&&-1===this.o.a.index&&B(this)&&this.c.appendChild(this.g);a=y("g",{},this.c);this.j=y("path",{"class":$a(this),d:"M -7 0L 0 7L 7 0L 0 -7 Z"},a);this.j.addEventListener("click",this.Qa.bind(this))}};e.J=function(){this.g.innerHTML="";this.aa.innerHTML="";y("line",{x1:0,y1:0,x2:0,y2:"100%"},this.g);y("line",{x1:this.x,y1:0,x2:this.x,y2:"100%"},this.aa);return this.g};
function $a(a){if(a.a.a===a.w)switch(a.status){case 0:return"complete";case ib:return"on-track";case 2:return"at-risk";case 3:return"late"}else if(a.a.g===a.w)return"previous"}function Aa(a){switch(a){case "complete":return 0;case "on-track":return ib;case "at-risk":return 2;case "late":return 3;case "previous":return 4}}function B(a){return(a.a.a===a.w||a.w===a.a.g)&&ta(a.a,a.m)}function ob(a){var b=a.o.a;return{x:a.x,y:b.a.L+b.L+b.height-20}}
function na(a){var b=a.o.a;return{x:a.x,y:b.L+b.height-20}}function pb(a){a=a.o.a;a.h();a.M()}e.S=function(a){this.b.push(a)};function qb(a,b){a.b=a.b.filter(function(a){return a!==b})}function rb(a,b){a.T=a.T.filter(function(a){return a!==b})}
e.Qa=function(){if(1===this.a.ea){if(-1===this.o.a.index)return;this.a.S({report:this.a.a.index,dependency:this.a.da,dependent:this.o.index}).h()}this.w!==this.a.g||H(this.o)||(G(this.a,{milestone:this.o.index,report:this.a.a.index,comment:this.A,status:this.status,date:this.m}).h(),this.o.h(),pb(this))};function I(a){bb(a.o,a);a.b.forEach(function(a){return a.j()});a.T.forEach(function(a){return a.j()});S(a.a.u,a)}
e.Wa=function(a){var b=this.a;this.m=ab(b.start,b.j,a.m);this.A=a.A;this.o.name=a.title;this.h();this.J();this.o.h();pb(this)};e.Na=function(){this.status=3<=this.status?0:this.status+1;this.j.setAttribute("class",$a(this))};e.xa=function(){I(this);0===this.o.g.length?cb(this.o):this.o.h();pb(this)};e.Ma=function(){-1!==this.o.a.index&&(this.a.ea=1,this.a.da=this.o.index,this.a.W=!0)};function ha(a,b,c){this.b=y("g",{"class":"reportLine"});this.j=y("g",{"class":"reportLine"});this.index=b;this.a=c;this.restore(a)}e=ha.prototype;e.restore=function(a){this.m=a.date;this.name=a.name};e.save=function(){return{date:this.m,name:this.name}};
function Ua(a,b,c){a.g=y("g",b,c);b=a===a.a.a?"Current:":"Baseline:";y("text",{"class":"reportHeader","text-anchor":"end"},a.g).textContent=b;b=y("g",{},a.g);new N({l:a.a.l,onchange:a.Ja.bind(a),parent:b,Z:P,D:{transform:"translate(0, 20)","class":"reportDate"}},a.m);b=y("g",{},a.g);new sb(a.name,a.a.l,a.Ka.bind(a),b)}
e.J=function(){this.b.innerHTML="";this.j.innerHTML="";if(!ta(this.a,this.m))return this.b;var a=F(this.a,this.m);y("line",{x1:a,y1:this.a.P.b.height+20,x2:a,y2:"100%"},this.b);y("line",{x1:a,y1:0,x2:a,y2:"100%"},this.j);return this.b};function tb(a){a.a.u.filter(function(b){return b.w===a}).forEach(function(a){return I(a)});S(a.a.b,a);a.a.a=a.a.g}e.Ja=function(a,b){this.m=b.m;ja(this.a);this.J()};e.Ka=function(a,b){this.name=b.text;ja(this.a)};function w(a,b,c){this.c=y("g",{"class":"dependency"});this.c.addEventListener("dblclick",this.j.bind(this));this.index=b;this.g=c;this.restore(a)}
w.prototype.restore=function(a){var b=this;q(function(){return Number.isInteger(a.report)});q(function(){return b.g.b[a.report]});q(function(){return Number.isInteger(a.dependent)});q(function(){return b.g.s[a.dependent]});q(function(){return Number.isInteger(a.dependency)});q(function(){return b.g.s[a.dependency]});this.w=this.g.b[a.report];this.b&&qb(this.b,this);this.b=R(this.g.s[a.dependent],this.w);q(function(){return b.b});this.b.S(this);this.a&&rb(this.a,this);this.a=R(this.g.s[a.dependency],
this.w);q(function(){return b.a});this.a.T.push(this)};w.prototype.save=function(){return{dependent:this.b.o.index,dependency:this.a.o.index,report:this.w.index}};w.prototype.h=function(){this.c.innerHTML="";this.w===this.g.a&&B(this.b)&&B(this.a)&&oa(ob(this.a),ob(this.b),this.c)};
function oa(a,b,c){if(a.x<=b.x)var d="dependencyLineOK",f="dependencyArrowOK";else d="dependencyLineLate",f="dependencyArrowLate";b.x-=7;ub(a,b,d,c);ub(a,b,"vthick transparentLine",c);y("path",{"class":f,d:"M -4 -4 L -4 4 L 0 0 Z",transform:"translate("+b.x+", "+b.y+")"},c)}var vb=0;
function pa(a,b,c,d){oa(b,c,d);c=ub(b,c,"transparentLine",d);vb++;b="dependency"+vb;c.setAttribute("id",b);c=y("text",{"class":"dependencyText"},d);y("textPath",{"xlink:href":"#"+b},c).textContent="\u00a0\u00a0\u00a0\u00a0"+a.b.o.name;d=y("text",{"text-anchor":"end","class":"dependencyText"},d);y("textPath",{"xlink:href":"#"+b,startOffset:"100%"},d).textContent=a.a.o.name+"\u00a0\u00a0\u00a0\u00a0"}w.prototype.j=function(){rb(this.a,this);qb(this.b,this);S(this.g.G,this);this.c.parentNode.removeChild(this.c)};function ea(a){this.s=[];this.index=-1;this.name="Business Milestones";this.c=y("g",{"class":"businessMs"});this.g=y("g",{"class":"businessMs"});this.b=a;this.height=40;this.j=0}e=ea.prototype;
e.h=function(){var a=this;this.c.innerHTML="";this.g.innerHTML="";var b=this.ma();this.height=this.j;var c=y("g",{transform:"translate(0 "+(this.height-20)+")"},this.c);y("line",{x1:0,y1:0,x2:this.b.width,y2:0,"class":"projectLine"},c);this.s.filter(function(a){return H(a)}).forEach(function(b){var d=H(b);d.J();c.appendChild(b.c);a.g.appendChild(d.aa)});c.appendChild(b);b=y("g",{"class":"businessMsHeader",transform:"translate(0, -10)"},c);y("text",{},b).textContent="Business Milestones";T(O,this.b.l,
[{icon:"icons/plus.svg",action:this.na.bind(this)}],{transform:"translate(180, -7)"},b);return this.c};e.ma=u.prototype.ja;e.M=function(){A(this.b)};e.fa=function(a){this.s.push(a)};e.Y=function(a){this.s=this.s.filter(function(b){return b!==a})};e.na=u.prototype.ka;function nb(a,b,c,d){this.l=a.l;this.ca=a.ca||function(){};this.parent=a.parent;this.D=a.D||{};this.a=!1;this.restore(b,c,d);this.h()}var gb=35;e=nb.prototype;e.restore=function(a,b,c){this.title=a;this.title=""===this.title?"Untitled":this.title;this.m=b;this.A=c;this.A=""===this.A?"":this.A};e.h=function(){this.c=V(this.wa.bind(this),this.onclick.bind(this),this.l,this.D,this.parent)};
e.onclick=function(a){a.innerHTML="";a=y("foreignObject",{width:315,height:45,x:5,y:-55},a);var b=W("input",{"class":"svgDateBox",value:x(this.m),type:"date",required:""},a);b.addEventListener("change",this.va.bind(this,b));b=W("input",{"class":"svgTextBox",value:this.title,type:"text",placeholder:"Milestone Name"},a);b.addEventListener("change",this.Za.bind(this,b));a=W("input",{"class":"svgCommentBox",value:this.A,type:"text",placeholder:"Milestone Comment"},a);a.addEventListener("change",this.ua.bind(this,
a))};e.wa=function(a){this.a&&(this.ca(this),this.a=!1);a.innerHTML="";var b=new Date(this.m);b=Ra(b)+" "+Pa(b)+": ";y("text",{"text-anchor":"start",transform:"translate(5, -15)"},a).textContent=wb(b+this.title,100);y("text",{"class":"msComment",transform:"translate(5, 0)"},a).textContent=wb(this.A,100)};e.Za=function(a){this.restore(a.value,this.m,this.A);this.a=!0};e.ua=function(a){this.restore(this.title,this.m,a.value);this.a=!0};e.va=function(a){this.m=xb(a);this.a=!0};function n(){var a=document.getElementById("app");this.c=W("div",{"class":"milestoneMapContainer"},a);this.parent=a;yb(this.h.bind(this));this.la()}n.prototype.save=function(){var a=JSON.stringify(this.map.save(),null,"\t");zb(this.map.name+".json",a,"application/json",this.c)};n.prototype.restore=function(a){a=JSON.parse(a);this.map=new r(a)};
n.prototype.h=function(){this.c.innerHTML="";var a=W("div",{"class":"menubar"},this.c),b=X("File",a);Y([{icon:"icons/new.svg",action:this.la.bind(this)},{icon:"icons/open.svg",action:this.Ta.bind(this)},{icon:"icons/save.svg",action:this.save.bind(this)},{icon:"icons/exportCSV.svg",action:this.Ra.bind(this)},{icon:"icons/import.svg",action:this.Sa.bind(this)}],b.body);b=X("Programme",a);Y([{icon:"icons/plus.svg",action:this.map.$a.bind(this.map)}],b.body);b=X("Comparison",a);Y([{icon:"icons/camera.svg",
action:this.bb.bind(this)},{icon:"icons/delete.svg",action:this.Pa.bind(this)}],b.body);ja(this.map);b.body.appendChild(this.map.ha);b=X("Print",a);Y([{icon:"icons/print.svg",action:this.sa.bind(this)}],b.body);Ab(this,b.body);b=X("About",a);Y([{icon:"icons/info.svg",action:function(){return alert('Milestone Map, Version: 1.2.5\u03b2\n\nFor help and support, please visit:\n\nhttps://andymac-2.github.io/milestoneMap/instructions\n\n\n\nCopyright 2018 Andrew Pritchard\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')}},
{icon:"icons/question.svg",action:function(){return window.open("https://andymac-2.github.io/milestoneMap/instructions")}}],b.body);this.map.ra=window.innerHeight-a.getBoundingClientRect().height-5;this.c.appendChild(this.map.K);this.map.h()};
var Bb=[{height:1682,width:2378},{height:1189,width:1682},{height:841,width:1189},{height:594,width:841},{height:420,width:594},{height:297,width:420},{height:210,width:297},{width:1682,height:2378},{width:1189,height:1682},{width:841,height:1189},{width:594,height:841},{width:420,height:594},{width:297,height:420},{width:210,height:297}].map(function(a){return a.width>a.height?{height:a.height-70,width:a.width-70}:a}),da=Bb[5],Cb="4A0 Landscape;2A0 Landscape;A0 Landscape;A1 Landscape;A2 Landscape;A3 Landscape;A4 Landscape;4A0 Portrait;2A0 Portrait;A0 Portrait;A1 Portrait;A2 Portrait;A3 Portrait;A4 Portrait".split(";");
function Ab(a,b){ka("Page Size:",function(b){a.map.B=Bb[b.currentTarget.value]},Cb,{"class":"pageSizeSelector"},b)}e=n.prototype;e.bb=function(){xa(this.map);this.h()};e.Pa=function(){1>=this.map.b.length||(tb(this.map.a),this.h())};
e.la=function(){var a=ra(),b=a-5184E6,c=new Date(b);c=c.setUTCFullYear(c.getUTCFullYear()+1).valueOf();this.map=new r({name:"New Map",start:b,end:c,programmes:[],projects:[],milestones:[],msAtReports:[],reports:[{name:"Baseline",date:a}],dependencies:[],currReport:0,cmpReport:0});this.h()};e.Ta=function(){var a=this;Db(this.c,function(b){try{a.restore(b),a.h()}catch(c){throw alert("Error: Invalid file."),c;}},".json")};
e.Sa=function(){var a=this;Db(this.c,function(b){try{var c=[],d=!1,f,h,l;for(l=h=f=0;f<b.length;f++){var k=b[f],m=b[f+1];c[l]=c[l]||[];c[l][h]=c[l][h]||"";'"'==k&&d&&'"'==m?(c[l][h]+=k,++f):'"'==k?d=!d:","!=k||d?"\r"!=k||"\n"!=m||d?"\n"!=k||d?"\r"!=k||d?c[l][h]+=k:(++l,h=0):(++l,h=0):(++l,h=0,++f):++h}0===c[c.length-1].length&&c.pop();Ba(a.map,c);a.h()}catch(p){throw alert(p.name+": "+p.message),p;}},".csv")};e.Ra=function(){var a=Da(this.map);zb(this.map.name+".csv",a,"text/csv",this.c)};
e.sa=function(){var a=new r(this.map.save(),this.map.B);try{la(a),this.parent.innerHTML=a.X.innerHTML,window.print(),this.parent.innerHTML="",this.parent.appendChild(this.c)}catch(b){throw alert(b.name+": "+b.message),b;}};var O=1,P=2;function ub(a,b,c,d){return y("path",{"class":c,d:"M"+a.x+" "+a.y+" C"+(a.x+150)+" "+a.y+" "+(b.x-150)+" "+b.y+" "+b.x+" "+b.y},d)};function D(a,b){b.forEach(function(b){b.c.setAttribute("transform","translate(0, "+a+")");b.L=a;a+=b.height});return a}function Eb(a){a=a.getCTM();return{x:a.e,y:a.f}}var Z=void 0;function V(a,b,c,d,f){d=y("g",d,f);return Fb(d,a,b,c,f)}function Fb(a,b,c,d,f){function h(){b(a);f.contains(a)&&f.addEventListener("click",l)}function l(){c(a);f.removeEventListener("click",l);f.contains(a)&&d.I.push({c:f,event:h})}h();return a}function fb(a,b){Gb.font=a;return Gb.measureText(b).width}var Gb=document.createElement("canvas").getContext("2d");function Hb(a,b,c){c=y("g",{"class":"menu"},c);switch(a){case 0:var d=45*(b.length+1)/-2;break;case O:d=-22.5;break;case P:d=-(45*(b.length+1))}for(a=0;a<b.length;a++){d+=45;var f=y("g",{transform:"translate("+d+", 0)","class":"menuEntry"},c);f.addEventListener("click",b[a].action);y("circle",{"class":"iconCircle",r:"14"},f);y("image",{x:"-8",y:"-8",height:"16",width:"16"},f).setAttributeNS("http://www.w3.org/1999/xlink","href",b[a].icon)}return c}
function T(a,b,c,d,f){return V(function(a){return a.innerHTML=""},function(b){b.innerHTML="";Hb(a,c,b)},b,d,f)}function X(a,b){b=t("span",{"class":"menuBarSegment"},b);t("div",{"class":"menuBarHeader"},b).textContent=a;a=t("div",{"class":"menuBarContent"},b);return{c:b,body:a}}function Y(a,b){b=t("span",{},b);b=y("svg",{width:45*a.length,height:40},b);Hb(O,a,b).setAttribute("transform","translate (0, 20)")}
function ka(a,b,c,d,f){d=t("span",d,f);t("div",{"class":"dropdownSegmentHeading"},d).textContent=a;a=t("select",{"class":"dropdownSegmentDropdown"},d);a.addEventListener("change",b);t("option",{selected:"",disabled:"",hidden:""},a).textContent="Please choose:";for(b=0;b<c.length;b++)t("option",{value:b},a).textContent=c[b]};function L(a,b){this.width=a;this.height=0;this.margin=4;this.c=y("g",{},b);this.ba=y("foreignObject",{width:this.width},this.c);this.C=t("div",{style:"width:"+this.width+"px;max-width:"+this.width+"px;"},this.ba);this.C.addEventListener("input",this.update.bind(this))}
L.prototype.update=function(){var a=this.C;document.contains(a)?a=a.offsetHeight:(Z||(Z=t("div",{style:"position:absolute;visibility:hidden;"},document.body)),a=a.cloneNode(!0),Z.appendChild(a),a=a.offsetHeight,Z.innerHTML="");a+=2*this.margin;this.height!==a&&(this.height=a,this.ba.setAttribute("height",this.height),this.ba.setAttribute("y",-this.height),a=new CustomEvent("verticalResize",{detail:this}),this.c.dispatchEvent(a))};
function M(a,b,c,d){var f=this;this.l=b.l;this.F=b.F;this.parent=d;this.onchange=b.onchange||function(){};c.contenteditable="true";this.c=t("p",c,d);this.c.addEventListener("input",this.oa.bind(this,this.c));this.c.addEventListener("input",function(a){return f.onchange(a,f)});this.c.addEventListener("focus",this.cb.bind(this));this.restore(a);this.h()}e=M.prototype;e.restore=function(a){this.text=a?a:this.F};e.h=function(){Fb(this.c,this.eb.bind(this),this.La.bind(this),this.l,this.parent)};
e.eb=function(){this.c.textContent=this.text||this.F;this.c.classList.remove("clickedActive");this.c.classList.add("notClickedActive")};e.La=function(){this.c.textContent=this.text;this.c.classList.add("clickedActive");this.c.classList.remove("notClickedActive")};e.cb=function(){var a=this.c,b=document.createRange();b.selectNodeContents(a);a=window.getSelection();a.removeAllRanges();a.addRange(b)};e.oa=function(a){this.restore(a.textContent)};function t(a,b,c){a=document.createElement(a);if(b)for(var d in b)a.setAttribute(d,b[d]);c&&c.appendChild(a);return a}function Ib(a,b,c,d){a=document.createElementNS(a,b);if(c)for(var f in c)a.setAttribute(f,c[f]);d&&d.appendChild(a);return a}var y=Ib.bind(null,"http://www.w3.org/2000/svg"),W=Ib.bind(null,"http://www.w3.org/1999/xhtml");function sb(a,b,c,d){var f=O;this.F="Untitled";switch(f){case O:this.a="start";break;case 0:this.a="middle"}this.l=b;this.onchange=c;this.parent=d;this.D={transform:"translate(5, 20)","class":"reportName"};this.restore(a);this.h()}e=sb.prototype;e.restore=function(a){this.text=a;this.text=""===this.text?this.F:this.text};e.h=function(){this.c=V(this.qa.bind(this),this.onclick.bind(this),this.l,this.D,this.parent)};
e.onclick=function(a){var b=this,c=a.getBoundingClientRect().height;a.innerHTML="";var d=10*c,f="middle"===this.a?d/-2:0,h=Eb(a),l=-h.x;h=-h.y;a=y("foreignObject",{width:d,height:1.4*c,transform:"translate("+l+", "+h+")",x:f-l,y:0-c-h},a);a=t("input",{"class":"svgTextBox",type:"text",value:this.text},a);a.focus();a.select();a.addEventListener("change",this.pa.bind(this,a));a.addEventListener("change",function(a){return b.onchange(a,b)})};
e.qa=function(a){a.innerHTML="";y("text",{"text-anchor":this.a},a).textContent=wb(this.text,40)};e.pa=function(a){this.restore(a.value)};function N(a,b){switch(a.Z){case O:this.a="start";break;case P:this.a="end"}this.l=a.l;this.onchange=a.onchange||function(){};this.parent=a.parent;this.D=a.D||{};this.min=a.min||null;this.max=a.max||null;this.restore(b);this.h()}N.prototype.restore=function(a){this.m=a};N.prototype.h=function(){this.c=V(this.b.bind(this),this.onclick.bind(this),this.l,this.D,this.parent)};
N.prototype.onclick=function(a){var b=this,c=a.getBoundingClientRect().height;a.innerHTML="";var d=10*c;a=y("foreignObject",{width:d,height:1.5*c,x:"start"===this.a?0:-d,y:0-c},a);c={"class":"svgDateBox",value:x(this.m),type:"date",required:""};this.min&&(c.min=x(this.min));this.max&&(c.max=x(this.max));var f=W("input",c,a);f.focus();f.select();f.addEventListener("blur",function(a){""!==f.value&&(b.m=xb(f));b.onchange(a,b)})};
N.prototype.b=function(a){a.innerHTML="";y("text",{"text-anchor":this.a},a).textContent=x(this.m)};function ca(a){this.c=a;this.I=[];this.a=[];a.addEventListener("click",this.click.bind(this),!0)}ca.prototype.click=function(a){for(var b=0;b<this.I.length;b++)for(;this.I[b]&&(!this.c.contains(this.I[b].c)||!this.I[b].c.parentNode.contains(a.target));)this.I[b].event(),this.I[b]=this.I[this.I.length-1],this.I.pop();for(b=0;b<this.a.length;b++)this.a[b].c.parentNode.contains(a.target)||this.a[b].event()};function ab(a,b,c){c=c>b?b:c;return c<a?a:c}function jb(a,b,c){for(var d=a.length;d>c;d--)a[d]=a[d-1],a[d].index=d;a[c]=b;b.index=c}function S(a,b){for(b=b.index;b<a.length-1;b++)a[b]=a[b+1],a[b].index=b;a.pop()}function kb(a,b,c){b=a.indexOf(b);c=a.indexOf(c);var d=a[b];a[b]=a[c];a[c]=d}function U(a,b,c){var d=a[b];a[b]=a[c];a[c]=d;a[b].index=b;a[c].index=c}function x(a){return(new Date(a)).toISOString().slice(0,10)}function xb(a){return(new Date(a.value+"T00:00:00.000Z")).valueOf()+1}
function sa(a){return a-a%864E5+1}function zb(a,b,c,d){var f=t("a",{style:"display:none;"},d);f.href=URL.createObjectURL(new Blob([b],{type:c}));f.download=a;f.click();d.removeChild(f)}function Db(a,b,c){var d={type:"file",style:"display:none;"};c&&(d.accept=c);var f=t("input",d,a),h=new FileReader;h.onload=function(){b(h.result);a.contains(f)&&a.removeChild(f)};f.addEventListener("change",function(){h.readAsText(f.files[0])});f.click()}
function wb(a,b){return a.length>b-3?a.slice(0,b-3)+"...":a}function yb(a){var b=window,c=100;c=c||100;var d;b.addEventListener("resize",function(){d&&window.clearTimeout(d);d=setTimeout(a,c)})}; //# sourceMappingURL=bundle.js.map
